var ua=navigator.userAgent.toLowerCase(),_os,doc=document,win=window,interactive={_forward:{android:{index:{fun:"com.gogobids.flash.ui.activity.MainActivity",forward:[{key:"main_type",value:"HomeFragment"}]},latestdeal:{fun:"com.gogobids.flash.ui.activity.MainActivity",forward:[{key:"main_type",value:"LatestTransactionFragment"}]},category:{fun:"com.gogobids.flash.ui.activity.MainActivity",forward:[{key:"main_type",value:"CategoryFragment"}]},mycenter:{fun:"com.gogobids.flash.ui.activity.MainActivity",forward:[{key:"main_type",value:"PersonalFragment"}]},recharge:{fun:"com.gogobids.flash.ui.activity.ActivitiesRechargeActivity",forward:[{key:"recharge_amount"},{key:"activity_id"}]},recharge_c:{fun:"com.gogobids.flash.ui.activity.RechargeActivity",forward:[]},detail:{fun:"com.gogobids.flash.ui.activity.FlashDetailActivity",forward:[{key:"flash_product_id"},{key:"flash_period_id"}]},share:{fun:"com.gogobids.flash.ui.activity.AllShareRecordActivity",forward:[]},goods_list:{fun:"com.gogobids.flash.ui.activity.AreaActivity",forward:[{key:"area_type"}]},login:{fun:"com.gogobids.flash.ui.activity.LoginActivity",forward:[{key:"need_callback",value:"true"}]},mybalance:{fun:"com.gogobids.flash.ui.activity.BalanceActivity",forward:[{key:"balance_type"}]},mybids:{fun:"com.gogobids.flash.ui.activity.MyBidsActivity",forward:[{key:"my_bids_type"}]},myorders:{fun:"com.gogobids.flash.ui.activity.MyBuyRecordsActivity",forward:[{key:"my_buy_records_type"}]}},ios:{index:{fun:"_QSHomePageController",forward:[]},latestdeal:{fun:"_QSNewBargainViewController",forward:[]},category:{fun:"_QSClassifyViewController",forward:[]},mycenter:{fun:"_QSPersonalCenterController",forward:[]},recharge:{fun:"QSActivitiesRechargeController",forward:[{key:"recharge_amount"},{key:"activity_id"}]},recharge_c:{fun:"QSVoucherCenterController",forward:[]},detail:{fun:"QSNewProductDetailViewController",forward:[{key:"product_id"},{key:"period_id"}]},share:{fun:"QSbaskSingleViewController",forward:[]},goods_list:{fun:"QSClassifiedDetialController",forward:[{key:"price"}]},login:{fun:"QSLoginController",forward:[]},mybalance:{fun:"QSBalanceController",forward:[{key:"type"}]},mybids:{fun:"QSBidsListController",forward:[{key:"defaultSelectedIndex"}]},myorders:{fun:"QSPurchaseListController",forward:[{key:"defaultSelectedIndex"}]}},wap:{index:{forward:[]},latestdeal:{forward:[]},category:{forward:[]},mycenter:{forward:[]},recharge:{forward:[{key:"amount"},{key:"aid"}]},detail:{forward:[{key:"gid"},{key:"id"}]},share:{forward:[]},goods_list:{forward:[{key:"pr"}]},login:{forward:[]},mybalance:{forward:[{key:"t"}]},mybids:{forward:[{key:"t"}]},myorders:{forward:[{key:"t"}]}}},extend:function(e){var r=arguments.callee;if(e instanceof Array){for(var a=[],i=0;i<e.length;++i)a[i]=r(e[i]);return a}if(e instanceof Object){var a={};for(var i in e)a[i]=r(e[i]);return a}return e},_getStr:function(e,r,a){for(var i=interactive.extend(interactive._forward[a][e]),t=r?r.split("|"):[],o=0,n=t.length;o<n;o++)i.forward[o].value=t[o];for(var s=0,n=i.forward.length;s<n;s++)"null"==i.forward[s].value&&(i.forward.splice(s,1),s--,n--);if("wap"==a){for(var c=[],o=0,n=i.forward.length;o<n;o++)i.forward[o].value&&c.push(i.forward[o].key+"="+i.forward[o].value);return"?"+c.join("&")+(c.length>0?"&":"")}return i},_setUserInfo:function(e){var r=JSON.parse(e);sessionStorage.token=r.token||0,sessionStorage.user_id=r.user_id||0,sessionStorage.avatar=r.avatar||0,sessionStorage.nickname=r.nickname||0},_action:function(){var e=arguments,r=ua.lastIndexOf("-"),a=parseInt(ua.substr(r+1));"ios"==_os&&a>=15?win.webkit.messageHandlers.action.postMessage([e[0],e[1],e[2]]):native.action(e[0],e[1],e[2])},download:function(e){interactive._action("download","download",'{ "download":"'+e+'" }')},album:function(e,r){interactive._action("album","album",'{ "max":"'+(e||1)+'", "scale":"'+(r||0)+'" }')},nav:function(e){interactive._action("navigation","corner",'{ "type":"'+e+'" }')},userinfo:function(){ua.match(/gogobids/i)?sessionStorage.user_id>0&&interactive._action("userinfo","userinfo","{}"):win._user&&_user.id>0&&(sessionStorage.token=_user.token||0,sessionStorage.user_id=_user.id||0,sessionStorage.avatar=_user.avatar||0,sessionStorage.nickname=_user.nickname||0)},forward:function(e,r){if(e)if(ua.match(/gogobids/i)){var a=interactive._getStr(e,r,_os),i={forward:a.forward};interactive._action("forward",a.fun,JSON.stringify(i))}else{var t=interactive._getStr(e,r,"wap");location.href=(envConfig.host||"/")+e+".html"+t+"redirect="+encodeURIComponent(location.pathname+location.search+location.hash)}},toast:function(e){if(e)if(ua.match(/gogobids/i))interactive._action("dialog","dialog",'{ "dialog":{"type":"toast", "message":"'+e+'"} }');else{var r=doc.createElement("div");r.className="ui-toast",r.style.cssText="display:inline-block; background:rgba(0,0,0,.7); color:#fff; font:.24rem/2 'Microsoft Yahei'; padding:0 .2rem; border-radius:.08rem; position:fixed; top:48%; left:50%; -webkit-transform:translateX(-50%); transform:translateX(-50%);",r.innerHTML=e,doc.querySelector("body").appendChild(r),setTimeout(function(){doc.body.removeChild(doc.querySelector(".ui-toast"))},3e3)}},queryStr:function(e,r){var r=r||location.search,a=new Object;if(-1!=r.indexOf("?")){var i=r.substr(1);strs=i.split("&");for(var t=0;t<strs.length;t++){var o=strs[t].split("=");a[o[0]]=decodeURIComponent(o[1])}return e?a[e]:a}return null},callback:function(e,r,a){switch(e){case"com.gogobids.flash.ui.activity.LoginActivity":case"QSLoginController":r?(interactive._setUserInfo(a),win.cb_login&&cb_login()):interactive.toast("登录失败");break;case"com.gogobids.flash.ui.activity.ActivitiesRechargeActivity":case"QSActivitiesRechargeController":r?win.cb_recharge&&cb_recharge(a):interactive.toast("充值失败");break;case"userinfo":r?(interactive._setUserInfo(a),win.cb_user&&cb_user()):interactive.toast("获取用户信息失败");break;case"album":r?win.cb_album&&cb_album(a):interactive.toast("上传失败")}}};sessionStorage.user_id=sessionStorage.user_id||parseInt(interactive.queryStr("user_id"))||(win._user?_user.id:0),_os=ua.match(/android/i)?"android":"ios",win.onload=function(){interactive.userinfo()};